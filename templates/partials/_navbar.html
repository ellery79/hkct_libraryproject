<!-- Navbar -->
{% load static %}
<nav class="navbar navbar-expand-lg navbar-dark bg-primary sticky-top">
    <div class="container">
      <a class="navbar-brand" href={% url "index" %}>
        <img src={% static "img/logo.png" %} class="logo" alt="" />
      </a>
      <button
        class="navbar-toggler"
        type="button"
        data-toggle="collapse"
        data-target="#navbarNavAltMarkup"
      >
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
        <ul class="navbar-nav">
          {% comment %} make "active" once pressing wording "/", "about", "listings"  {% endcomment %}          
          <li {% if '/' == request.path %}
          class="nav-item active mr-3"
          {% else %}
          class="nav-item mr-3"  
          {% endif %}
          >
            <a class="nav-link" href={% url "index" %}>Home</a>
          <li {% if 'about' in request.path %}
          class="nav-item active mr-3"
          {% else %}
          class="nav-item mr-3"  
          {% endif %}
          >
            <a class="nav-link" href={% url "about" %}>About</a>
          <li {% if 'listings' in request.path %}
          class="nav-item active mr-3"
          {% else %}
          class="nav-item mr-3"  
          {% endif %}
          >
            <a class="nav-link" href={% url "listings" %}>Featured Listings</a>
        </ul>
        <ul class="navbar-nav ml-auto">
          {% comment %} dashboard li: if user logins, show dashboard and logout page {% endcomment %}
          {% if user.is_authenticated %}
          {% comment %} SHOW USERNAME IN NAVBAR {% endcomment %}
          <li {% if 'dashboard' in request.path %} class='nav-item mr-3 active'
          {% else %} class='nav-item mr-3' {% endif %}>
          <a class="nav-link" href={% url 'dashboard' %} >Welcome {{user.username}} (dashboard)</a>
          </li>
          {% comment %} logout li: SHOW LOGOUT ICON ON RIGHT CORNER OF NAVBAR {% endcomment %}
          <li class='nav-item mr-3'>
            <a href="javascript:{document.getElementById('logout').submit()}" class='nav-link'>
            <i class='fas fa-sign-out-alt'></i>logout
            </a>
            {% comment %} CLEAR THE TOKEN WHILE LOGOUT AND HIDE INPUT BOX {% endcomment %}
            <form action="{% url 'logout' %}" method="POST" id="logout">
              {% csrf_token %}
              <input type='hidden'>
            </form>
          </li>
          {% else %}
          {% comment %} This is Register li: AFTER Register, Register LOGO DISAPPEAR {% endcomment %}
          <li {% if 'register' in request.path %}
          class="nav-item mr-3 active" 
            {% else %} 
            class="nav-item mr-3" {% endif %} >
            {% comment %} change from login.html {% endcomment %}
            <a class="nav-link" href={% url 'register' %}>
              <i class="fas fa-user-plus"></i>Register</a
            >
          </li> {% comment %} This is Login li: AFTER LOGIN, LOGIN LOGO DISAPPEAR {% endcomment %}
          <li {% if 'login' in request.path %}
          class="nav-item mr-3 active" 
            {% else %} 
            class="nav-item mr-3" {% endif %} >
            {% comment %} change from login.html {% endcomment %}
            <a class="nav-link" href={% url 'login' %}>
              <i class="fas fa-sign-in-alt"></i>
              Login</a
            >
          </li> 
          {% endif %}
        </ul>
      </div>
    </div>
</nav>